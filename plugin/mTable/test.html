<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title></title>
    <link rel="stylesheet" href="css/mTable.css" />
    <script src="jquery.min.js"></script>
    <script src="js/mTable.js"></script>

</head>
<body>
    <div id="reportTableDiv" class="span10">
        <table id="container">
        </table>
    </div>
</body>
<script type="text/javascript">
    $('#container').mTable({
        url:'data.json',
        countUrl:'count.json',
        queryParams:{name:'ss',ddd:'ds'},
        method : 'post',
        showHeader: true,
        striped : true,
        showToggle: true,
        pagination : true,
        pageSize : 10,
        pageNumber : 1,
        showColumns : true,
        showPaginationSwitch: true,
        showRefresh : true,
        paginationHAlign:'right',
        paginationVAlign:'both',
        countAjaxError:function(res){
            console.log(res);
        },
        dataAjaxError:function(res){
            console.log(res);
        },
        clickToSelect : true,
        columns : [{
            checkbox:true,
            format:function(value,row,index){//value是值，row是当前的行记录，index是行数 从0开始
                if(row.user_company === '1'){
                    return {
                        disabled:true,
                    }
                }
            }
        }, {
            field : "user_email",
            title : "邮编",
            //width:'10px',//如果内容比设置的大，会自动补齐到最大那一个td的长度
            align : "center"
            //valign : "middle",
        }, {
            field : "user_company",
            title : "公司",

            align : "center",
            valign : "middle",
            format:function(value,row,index){
                var res = value;
                if(row.user_company === '1'){
                    return "<font color='#FF0000'>"+value+"</font> ";
                }
                return res;
            }
        }, {
            field : "user_dates",
            title : "时间",
            //width:'140px',
            //align : "left",
            valign : "middle",
            format:function(value,row,index){
                var res = value;
                if(row.user_company === '1'){
                    return "<div style='background-color: #00ee00;width: 100%;height: 100%;padding-top: 10px; '>"+value+"</div>"
                }
                return res;
            }
        }, {
            field : "wxAccount",
            title : "微信号",

        }, {
            field : "content",
            title : "内容",

        }, {
            field : "userstatus_package_id",
            title : "工号",

        } ,{
            title : "操作",
            /*format:function(value,row,index){
                if(row.user_company === '1'){
                    return {
                        hided:true
                    }
                }
            },*/
            isButtonColumn:true,
            buttons:[{
                text:"编辑",
                onClick:function(button,row,index){
                    console.log(button);
                }
            },{
                text:"添加",
                //配置隐藏属性
                format:function(value,row,index){
                    if(row.user_company === '1'){
                        return {
                            hided:true
                        }
                    }
                }
            }
                ,{
                    text:"添加"
                }
                ,{
                    text:"添加"
                }
                ,{
                    text:"添加"
                }
                ,{
                    text:"添加"
                }]
        }]
        //data :[{"user_email":"20dai.rikon@gmail.com","user_company":"","user_dates":"2014-10-13 13:35:51","user_lastlogintime":"0","user_version":"0","user_isv2":"0","userstatus_usertype":"0","userstatus_package_id":"100014","userstatus_end_time":"NULL"},{"user_email":"20dai.rikon@gmail.com","user_company":"","user_dates":"2014-10-13 13:35:51","user_lastlogintime":"0","user_version":"0","user_isv2":"0","userstatus_usertype":"0","userstatus_package_id":"100014","userstatus_end_time":"NULL"},{"user_email":"20dai.rikon@gmail.com","user_company":"","user_dates":"2014-10-13 13:35:51","user_lastlogintime":"0","user_version":"0","user_isv2":"0","userstatus_usertype":"0","userstatus_package_id":"100014","userstatus_end_time":"NULL"}]
    });
</script>
</html>